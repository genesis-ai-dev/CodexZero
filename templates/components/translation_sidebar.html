{% macro translation_sidebar(project) %}
<!-- Translation Sidebar -->
<div class="w-80 bg-white border-r border-neutral-200 border-r-[0.5px] overflow-y-auto">
    
    <!-- Save Button -->
    <div class="border-b-2 border-black p-6" style="border-bottom: 2px solid #2d2d2d;">
        <button id="save-changes-btn" class="w-full p-3 text-sm font-bold transition-colors marker-border-thin" style="background: #e5e5e5; color: #2d2d2d; border: 1px solid #2d2d2d; border-radius: 2px;">
            NO CHANGES TO SAVE
        </button>
    </div>
    
    <!-- Model Selection -->
    <div class="border-b-2 border-black p-6" style="border-bottom: 2px solid #2d2d2d;">
        <div class="flex items-center justify-between mb-4">
            <h3 class="font-bold text-lg tracking-wide" style="color: #2d2d2d;">TRANSLATION MODEL</h3>
            <button id="refresh-models-btn" class="px-2 py-1 text-xs font-bold transition-colors" style="background: #f3f4f6; color: #374151; border: 1px solid #d1d5db; border-radius: 3px;" title="Refresh models">
                <i class="fas fa-sync-alt"></i>
            </button>
        </div>
        <p class="text-xs font-medium mb-4" style="color: #6b7280;">Choose base models or your custom fine-tuned models</p>
        
        <!-- Model Selection -->
        <select id="translation-model-select" class="w-full p-3 mb-3 font-medium marker-border-thin" style="background: #fefdf8; color: #2d2d2d; border: 1px solid #2d2d2d; border-radius: 2px;">
            <option value="">Loading models...</option>
        </select>
        
        <!-- Model Info -->
        <div id="model-info" class="hidden p-3 text-xs font-medium" style="background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 3px;">
            <div id="model-description" style="color: #374151;"></div>
            <div id="model-type" class="mt-1" style="color: #6b7280;"></div>
        </div>
    </div>
    
    <!-- Navigation Section -->
    <div class="p-6">
        <h3 class="font-bold text-lg tracking-wide mb-4" style="color: #2d2d2d;">NAVIGATION</h3>
        
        <!-- Book Selection -->
        <div class="mb-4">
            <label class="block text-xs font-medium mb-2" style="color: #6b7280;">Book</label>
            <select id="goto-book" class="w-full p-2 text-sm font-medium marker-border-thin" style="background: #fefdf8; color: #2d2d2d; border: 1px solid #2d2d2d; border-radius: 2px;">
                <option value="">Select Book...</option>
            </select>
        </div>
        
        <!-- Chapter Selection -->
        <div class="mb-4">
            <label class="block text-xs font-medium mb-2" style="color: #6b7280;">Chapter</label>
            <select id="goto-chapter" class="w-full p-2 text-sm font-medium marker-border-thin" style="background: #fefdf8; color: #2d2d2d; border: 1px solid #2d2d2d; border-radius: 2px;">
                <option value="">Select Chapter...</option>
            </select>
        </div>
        
        <!-- Testament Sections -->
        <div class="space-y-3">
            <div>
                <button class="w-full text-left text-xs font-bold text-gray-700 mb-2 flex items-center justify-between" onclick="toggleTestamentSection('ot')">
                    <span>Old Testament</span>
                    <i class="fas fa-chevron-down transition-transform" id="ot-toggle"></i>
                </button>
                <div id="ot-books" class="space-y-1 max-h-32 overflow-y-auto"></div>
            </div>
            
            <div>
                <button class="w-full text-left text-xs font-bold text-gray-700 mb-2 flex items-center justify-between" onclick="toggleTestamentSection('nt')">
                    <span>New Testament</span>
                    <i class="fas fa-chevron-down transition-transform" id="nt-toggle"></i>
                </button>
                <div id="nt-books" class="space-y-1 max-h-32 overflow-y-auto"></div>
            </div>
        </div>
    </div>
</div>

<script>
// Testament section toggle functionality
function toggleTestamentSection(testament) {
    const container = document.getElementById(`${testament}-books`);
    const toggle = document.getElementById(`${testament}-toggle`);
    
    if (container.classList.contains('hidden')) {
        container.classList.remove('hidden');
        toggle.style.transform = 'rotate(180deg)';
    } else {
        container.classList.add('hidden');
        toggle.style.transform = 'rotate(0deg)';
    }
}

// Initialize testament sections as collapsed
document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('ot-books').classList.add('hidden');
    document.getElementById('nt-books').classList.add('hidden');
});
</script>
{% endmacro %} 